from sqlalchemy import create_engine
from sqlalchemy import Table,Column,String,Integer,MetaData,ForeignKey
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
from pyDatalog import pyDatalog

dbstring="postgres://postgres:postgres@localhost:5432/cs4221"
db=create_engine(dbstring)
base=declarative_base(cls=pyDatalog.Mixin,metaclass=pyDatalog.sqlMetaMixin)


Session = sessionmaker(db)
session = Session()
base.metadata.create_all(db)
base.session = session

class Parent(base):
    __tablename__="parent"
    child=Column(String,primary_key=True)
    parent=Column(String,primary_key=True)
    def __repr__(self):
        return "Child: {} Parent: {}".format(self.child,self.parent)
